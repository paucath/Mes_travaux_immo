<script type="text/javascript" src="assets/js/espace_admin.js" defer></script>

<section class="content">
    <section class="block">
        <!-- onglets -->
        <div class="wb-tabs">
            <div class="tabpanels">
                <!-- ***************Gestion des utilisateurs************* -->
                <details class="details" open="open">
                    <summary class="nav_admin">Gestion des utilisateurs</summary>
                    <div>
                        <details class="details" open="open">
                            <summary class="nav_admin">Administrateur</summary>
                            <div class="d-flex">
                                <div class="carte justify-content-center flex-column">
                                    <button class="add_admin" style="width:20%" type="button" data-toggle="modal"
                                        data-target="#espace_admin_modal" onclick="new_admin()">ajouter</button>
                                    <table id="table_admin" class="display responsive " style="width: 100%" border=1>
                                    </table>
                                </div>
                            </div>
                        </details>
                        <details class="details">
                            <summary class="nav_admin">Utilisateurs</summary>
                            <div class="d-flex">
                                <div class="carte justify-content-center flex-column">
                                    <table id="table_pro" class="display responsive " style="width:100%" border=1>
                                    </table>
                                </div>
                            </div>
                        </details>
                    </div>
                </details>
                <!-- ***************Gestion des actualités************* -->
                <details class="details">
                    <summary class="nav_admin">Gestion des actualités</summary>
                    <div class="d-flex">
                        <div class="carte justify-content-center flex-column">
                            <button class="add_actu" style="width:20%" type="button" data-toggle="modal"
                                data-target="#espace_admin_modal" onclick="new_actu()">ajouter</button>
                            <table id="table_actu" class="display responsive " style="width: 100%" border=1>
                            </table>
                        </div>
                    </div>
                </details>
                <!-- ***************Création de l'abonnement************* -->
                <details class="details">
                    <summary class="nav_admin">Création de l'abonnement</summary>
                    <div class="d-flex">
                        <div class="carte justify-content-center flex-column">
                            <div class="d-flex justify-content-center flex-column">
                                <br>
                                <br>
                                <label for="nom_abonnement">Nom de l'abonnement</label><br>
                                <input type="text" class="" id="nom_abonnement" style="width:50%"><br>
                                <label for="tarif">Tarif de l'abonnement</label><br>
                                <div class="d-flex ">
                                    <input type="text" class="" id="tarif" style="width:30%">
                                    <p style="width:20% ; font-size:35px">€</p>
                                </div>
                                <div>
                                    <label for="descriptif">Descriptif de l'abonnement</label><br>
                                    <textarea id="descriptif" style="width:50% ; margin: 2%;"></textarea>
                                </div>
                                <div>
                                    <button class="add_admin" style="width:30%" onclick="maj_abonnement()">Mise a jour
                                        abonnement</button>
                                    <div id="maj_abonnement"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </details>
                <!-- ***************Gestion des abonnements************* -->
                <details class="details">
                    <summary class="nav_admin">Gestion des abonnements</summary>
                    <div class="d-flex">
                        <div class="carte justify-content-center flex-column">
                            <div>
                                <p id="nbr_abo" class="nbr_abo d-flex justify-content-center"></p>
                            </div>
                            <table id="table_abo" class="display responsive " style="width: 100%" border=1>
                            </table>
                        </div>
                    </div>
                </details>
                <!-- ***************Messagerie************* -->
                <details class="details">
                    <summary class="nav_admin">Messagerie</summary>
                    <div class="d-flex">
                        <div class="carte  justify-content-center flex-column">
                            <table id="table_message" class="display responsive " style="width: 100%" border=1>
                            </table>
                        </div>
                        <div class="message_envoyé" id="message_envoyé"></div>
                    </div>
                </details>
                <!-- ***************Construction du devis************* -->
                <details class="details">
                    <summary class="nav_admin">Construction du devis</summary>
                    <div>
                        <details class="details">
                            <summary class="nav_admin">CATEGORIES</summary>
                            <div class="d-flex">
                                <div class="carte justify-content-center ">
                                    <div class="list_categorie d-flex justify-content-center" id="list_categorie"
                                        style="width:50%"></div>
                                    <div class="d-flex justify-content-center flex-column" style="width:50%">
                                        <div class="d-flex justify-content-center ">
                                            <input type="text" class="new_categorie" id="new_categorie"
                                                style="width:70%">
                                        </div>
                                        <div class="d-flex justify-content-center">
                                            <button class="categorie" onclick="add_categorie()"
                                                style="width:70%">Ajouter une
                                                catégorie</button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </details>
                        <details class="details">
                            <summary class="nav_admin">SOUS-CATEGORIES</summary>
                            <div class="d-flex">
                                <div class="carte justify-content-center ">
                                    <div class="list_sous_categorie d-flex justify-content-center"
                                        id="list_sous_categorie" style="width:50%"></div>
                                    <div class="d-flex justify-content-center flex-column " style="width:50%">
                                        <div class="d-flex justify-content-center">
                                            <input type="text" class="new_sous_categorie " id="new_sous_categorie"
                                                style="width:70%">
                                        </div>
                                        <div class="select d-flex justify-content-center" id="select">
                                        </div>
                                        <div class="select d-flex justify-content-center">
                                            <select class='select_sous_cat' id='select_sous_cat' style="width:70%">
                                                <option value="">Choix de l'unité de mesure</option>
                                                <option value="nbr_piece">Nbr de pièce</option>
                                                <option value="m_carre">m²</option>
                                                <option value="aucune">Aucune</option>
                                            </select>
                                        </div>
                                        <div class="d-flex justify-content-center">
                                            <button class="sous_categorie " style="width:70%"
                                                onclick="select_sous_categorie()">Ajouter une
                                                sous
                                                catégorie</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </details>
                    </div>
                </details>
                <!-- ***************Listing devis disponible************* -->
                <details class="details">
                    <summary class="nav_admin">Listing devis disponible</summary>
                    <div class="d-flex">
                        <div class="carte  justify-content-center flex-column">
                            <table id="table_projet" class="display responsive " style="width: 100%" border=1>
                            </table>
                        </div>
                    </div>
                </details>
                <!-- ***************CGU/CGV************* -->
                <details class="details">
                    <summary class="nav_admin">CGU/CGV</summary>
                    <div class="d-flex">
                        <div class="carte  justify-content-center flex-column">
                            <textarea id="CGU"></textarea>
                            <div>
                                <button class="add_admin" style="width:30%" onclick="maj_cgu_cgv()">Mise a jour
                                    cgu</button>
                                <div id="maj_cgu"></div>
                            </div>
                        </div>
                        <div class="carte  justify-content-center flex-column">
                            <textarea id="CGV"></textarea>
                            <div>
                                <button class="add_admin" style="width:30%" onclick="maj_cgu_cgv()">Mise a jour
                                    cgv</button>
                                <div id="maj_cgv"></div>
                            </div>
                        </div>
                    </div>
                </details>
                </details>
            </div>
        </div>
        <!-- Modal -->
        <div class="modal fade espace_admin_modal" id="espace_admin_modal" tabindex="-1" role="dialog"
            aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <!-- Ajout Admin Modal -->
                <div class="modal-content" id="admin_modal_add">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Ajout d'un administrateur</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <label for="nom_admin">Nom :</label><br>
                        <input type="texte" id="nom_admin" classe="input_admin"><br>
                        <label for="prenom_admin">Prenom :</label><br>
                        <input type="texte" id="prenom_admin" classe="input_admin"><br>
                        <label for="email_admin">email :</label><br>
                        <input type="email" id="email_admin" classe="input_admin"><br>
                        <label for="login_admin">Login :</label><br>
                        <input type="texte" id="login_admin" classe="input_admin"><br>
                        <label for="mdp_admin">Mot de passe :</label><br>
                        <input type="password" id="mdp_admin" classe="input_admin"><br>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" onclick="add_admin()" data-dismiss="modal" class="btn add_admin">Ajouter
                            cet admin</button>
                    </div>
                </div>
                <!-- Modif Admin Modal -->
                <div class="modal-content" id="admin_modal_update">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Modifier un administrateur</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <label for="nom_admin_edit">Nom :</label><br>
                        <input type="texte" id="nom_admin_edit" classe="input_admin"><br>
                        <label for="prenom_admin_edit">Prenom :</label><br>
                        <input type="texte" id="prenom_admin_edit" classe="input_admin"><br>
                        <label for="email_admin_edit">email :</label><br>
                        <input type="email" id="email_admin_edit" classe="input_admin"><br>
                        <label for="login_admin_edit">Login :</label><br>
                        <input type="texte" id="login_admin_edit" classe="input_admin"><br>
                        <label for="mdp_admin_edit">Mot de passe :</label><br>
                        <input type="password" id="mdp_admin_edit" classe="input_admin"><br>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" onclick="update_admin()" data-dismiss="modal"
                            class="btn add_admin">Modifier
                            cet admin</button>
                    </div>
                </div>
                <!-- Modif pro Modal -->
                <div class="modal-content" id="pro_modal_update">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Modifier un professionnel</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <label for="societe_pro_edit">societe :</label><br>
                        <input type="texte" id="societe_pro_edit" classe="input_pro"><br>
                        <label for="tel_pro_edit">tel :</label><br>
                        <input type="tel" id="tel_pro_edit" classe="input_pro"><br>
                        <label for="adresse_pro_edit">adresse :</label><br>
                        <input type="text" id="adresse_pro_edit" classe="input_pro"><br>
                        <label for="mail_pro_edit">mail :</label><br>
                        <input type="email" id="mail_pro_edit" classe="input_pro"><br>
                        <label for="siret_pro_edit">Siret:</label><br>
                        <input type="text" id="siret_pro_edit" classe="input_pro"><br>
                        <label for="login_pro_edit">login:</label><br>
                        <input type="text" id="login_pro_edit" classe="input_pro"><br>
                        <label for="mdp_pro_edit">Mot de passe:</label><br>
                        <input type="password" id="mdp_pro_edit" classe="input_pro"><br>
                        <label for="statut_pro_edit">Statut de l'abonnement (1 en cours , 0 clos):</label><br>
                        <input type="text" id="statut_pro_edit" classe="input_pro"><br>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" onclick="update_pro()" data-dismiss="modal" class="btn add_admin">Modifier
                            ce professionnel</button>
                    </div>
                </div>
                <!-- Ajout Actu Modal -->
                <div class="modal-content" id="actu_modal_add">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Ajout d'une actualité</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <label for="title_news">Titre :</label><br>
                        <input type="texte" id="title_news" classe="input_admin"><br>
                        <label for="catch_phrase_news">Phrase d'accroche :</label><br>
                        <input type="texte" id="catch_phrase_news" classe="input_admin"><br>
                        <label for="article_news">article :</label><br>
                        <textarea id="article_news" class="input_admin"></textarea><br>
                        <label for="img_actu">Image :</label><br>
                        <input type="texte" id="img_actu" classe="input_admin"><br>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" onclick="add_actu()" data-dismiss="modal" class="btn add_admin">Ajouter
                            cette actualité</button>
                    </div>
                </div>
                <!-- Modif Actu Modal -->
                <div class="modal-content" id="actu_modal_update">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Modifier une actualité</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <label for="title_news_edit">Titre :</label><br>
                        <input type="texte" id="title_news_edit" classe="input_admin"><br>
                        <label for="catch_phrase_news_edit">Phrase d'accroche :</label><br>
                        <input type="texte" id="catch_phrase_news_edit" classe="input_admin"><br>
                        <label for="article_news_edit">article :</label><br>
                        <textarea id="article_news_edit" class="input_admin"></textarea>
                        <label for="img_actu_edit">Image :</label><br>
                        <input type="texte" id="img_actu_edit" classe="input_admin"><br>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" onclick="update_actu()" data-dismiss="modal"
                            class="btn add_admin">Modifier cet actualité</button>
                    </div>
                </div>
                <!-- Lecture message Modal -->
                <div class="modal-content" id="read_message_modal">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Votre message</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <label for="nom">Nom :</label><br>
                        <input type="texte" id="nom" classe="input_admin"><br>
                        <label for="prenom">Prenom :</label><br>
                        <input type="texte" id="prenom" classe="input_admin"><br>
                        <label for="email">Email :</label><br>
                        <input type="email" id="email" classe="input_admin"><br>
                        <label for="objet">Objet :</label><br>
                        <input type="texte" id="objet" classe="input_admin"><br>
                        <label for="texte">Message :</label><br>
                        <textarea id="texte" class="input_admin"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
                <!-- Réponce message Modal -->
                <div class="modal-content" id="reply_message_modal">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Réponse</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <label for="email_reply">Email :</label><br>
                        <input type="email" id="email_reply" classe="input_admin"><br>
                        <label for="objet_reply">Objet :</label><br>
                        <input type="texte" id="objet_reply" classe="input_admin"><br>
                        <label for="texte_reply">Message :</label><br>
                        <textarea id="texte_reply" class="input_admin"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" onclick="send_message()" data-dismiss="modal"
                            class="btn add_admin">Envoyer</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>